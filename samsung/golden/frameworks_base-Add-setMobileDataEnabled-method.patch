From be76d7cdc166710fb76d062adb418dafbab0a5f5 Mon Sep 17 00:00:00 2001
From: Stefan Berger <s.berger81@gmail.com>
Date: Mon, 10 Nov 2014 12:14:00 +0100
Subject: [PATCH] Add setMobileDataEnabled method needed for SamsungU8500RIL

Change-Id: Idaafc916ef4ba364ed9affcfcc7a8860b4097969
---
 core/java/android/net/ConnectivityManager.java |   14 ++++++++++++++
 1 file changed, 14 insertions(+)

diff --git a/core/java/android/net/ConnectivityManager.java b/core/java/android/net/ConnectivityManager.java
index 9194ca8..7373015 100644
--- a/core/java/android/net/ConnectivityManager.java
+++ b/core/java/android/net/ConnectivityManager.java
@@ -1301,6 +1301,20 @@ public class ConnectivityManager {
     }
 
     /**
+     * @hide
+     * @deprecated Talk to TelephonyManager directly
+     */
+    public void setMobileDataEnabled(boolean enable) {
+        IBinder b = ServiceManager.getService(Context.TELEPHONY_SERVICE);
+        if (b != null) {
+            try {
+                ITelephony it = ITelephony.Stub.asInterface(b);
+                it.setDataEnabled(enable);
+            } catch (RemoteException e) { }
+        }
+    }
+
+    /**
      * Callback for use with {@link ConnectivityManager#addDefaultNetworkActiveListener}
      * to find out when the system default network has gone in to a high power state.
      */
-- 
1.7.9.5

